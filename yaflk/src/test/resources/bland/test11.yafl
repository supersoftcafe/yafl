
# Heap object, no GC or ARC yet, so definitely leaks.
# Proves that we can call 'malloc' in a word size agnostic way. See 'resources/stdlib.ll'.
# Pass the output through 'opt --O1 -S' to see that the word size detection code is optimised away

fun `+`(a, b) = __builtin__ add_i32(a, b)
fun `+`(a, b) = __builtin__ add_i64(a, b)

class NumberPair(left, right, extra)

fun process(v) = v.left + v.right

fun main() = process(NumberPair(1, 27, 200))

